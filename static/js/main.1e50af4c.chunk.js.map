{"version":3,"sources":["images/logo.svg","components/Header.js","images/footer__copyright-image.svg","components/Footer.js","images/edit-button.svg","images/add-button.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","Footer","footerImage","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","type","onClick","link","name","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","avatar","profileEditButtonImage","about","cardAddButtonImage","map","PopupWithForm","title","children","text","isOpen","onClose","onSubmit","noValidate","ImagePopup","handleOriginalResponse","res","ok","json","Promise","reject","status","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","then","all","getUserInfoFromServer","getInitialCards","userData","method","body","JSON","stringify","cardData","cardId","avatarLink","authorization","EditProfilePopup","onUpdateUser","useState","setUserName","description","setUserDescription","useEffect","e","preventDefault","id","placeholder","minLength","maxLength","onChange","target","value","required","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","isImagePopupOpen","setImagePopupOpen","setCurrentUser","setCards","closeAllPopups","getAllInfo","userInfo","cardsInfo","catch","err","console","log","Provider","handleCardClick","i","changeLikeCardStatus","newCard","state","c","deleteCardFromServer","filter","info","updateUserInfo","sendNewCard","updateAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1e50af4c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import logo from \"../images/logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"logo\" src={logo} alt=\"Логотип сайта Mesto\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/footer__copyright-image.b2563baa.svg\";","import footerImage from \"../images/footer__copyright-image.svg\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <img\r\n        className=\"footer__copyright-image\"\r\n        src={footerImage}\r\n        alt=\"Изображение логотипа сайта\"\r\n      />\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","export default __webpack_public_path__ + \"static/media/edit-button.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/add-button.bed8c136.svg\";","import React from \"react\";\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardDelete, onCardLike }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  const cardDeleteButtonClassName = `${\r\n    isOwn ? \"photo-element__button-delete\" : \"photo_element__button-delete_hidden\"\r\n  }`;\r\n\r\n  const isLiked = card.likes.some((item) => item._id === currentUser._id);\r\n  \r\n  const cardLikeButtonClassName = `${\r\n    isLiked ? \"photo-element__button-like_active\" : \"\"\r\n  }`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"photo-element\">\r\n      <button\r\n        type=\"button\"\r\n        className={cardDeleteButtonClassName}\r\n        onClick={handleDeleteClick}\r\n      />\r\n      <img\r\n        className=\"photo-element__picture\"\r\n        src={card.link}\r\n        alt={card.name}\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"photo-element__info\">\r\n        <h2 className=\"photo-element__title\">{card.name}</h2>\r\n        <div className=\"photo-element__likes-container\">\r\n          <button\r\n            type=\"button\"\r\n            className={`photo-element__button-like ${cardLikeButtonClassName}`}\r\n            onClick={handleLikeClick}\r\n          />\r\n          <span className=\"photo-element__likes-counter\">\r\n            {card.likes.length}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport profileEditButtonImage from \"../images/edit-button.svg\";\r\nimport cardAddButtonImage from \"../images/add-button.svg\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({\r\n  cards,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardClick,\r\n  onCardDelete,\r\n  onCardLike,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__overlay\">\r\n          <img\r\n            className=\"profile__avatar\"\r\n            src={currentUser.avatar}\r\n            alt=\"Изображение профиля\"\r\n            onClick={onEditAvatar}\r\n          />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__edit-button\"\r\n            onClick={onEditProfile}\r\n          >\r\n            <img\r\n              className=\"profile__edit-button-picture\"\r\n              src={profileEditButtonImage}\r\n              alt=\"Кнопка редактирования профиля\"\r\n            />\r\n          </button>\r\n          <p className=\"profile__profession\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={onAddPlace}\r\n        >\r\n          <img\r\n            className=\"profile__add-button-picture\"\r\n            src={cardAddButtonImage}\r\n            alt=\"Кнопка добавления изображений на сайт\"\r\n          />\r\n        </button>\r\n      </section>\r\n\r\n      <section className=\"photo-elements\">\r\n        {cards.map((card) => (\r\n          <Card\r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={onCardClick}\r\n            onCardDelete={onCardDelete}\r\n            onCardLike={onCardLike}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function PopupWithForm({ name, title, children, text, isOpen, onClose, onSubmit }) {\r\n  return (\r\n    <div className={`popup popup-${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <form onSubmit={onSubmit} className=\"popup__form popup__container\" noValidate>\r\n        <h2 className=\"popup__container-title\">{title}</h2>\r\n        {children}\r\n        <button type=\"submit\" className=\"popup__submit\">\r\n          {text}\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close\"\r\n          onClick={onClose}\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","function ImagePopup({card, isOpen, onClose}) {\r\n  return (\r\n    <div className={`popup popup-view ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <div className=\"popup-view__container\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close popup-view__close-button\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <img className=\"popup-view__image\" src={card.link} alt={card.name} />\r\n        <h2 className=\"popup-view__card-title\">{card.name}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","const handleOriginalResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n};\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    }).then(handleOriginalResponse);\r\n  }\r\n\r\n  getUserInfoFromServer() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    }).then(handleOriginalResponse);\r\n  }\r\n\r\n  getAllInfo() {\r\n    return Promise.all([this.getUserInfoFromServer(), this.getInitialCards()]);\r\n  }\r\n\r\n  updateUserInfo(userData) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(userData),\r\n    }).then(handleOriginalResponse);\r\n  }\r\n\r\n  sendNewCard(cardData) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(cardData),\r\n    }).then(handleOriginalResponse);\r\n  }\r\n\r\n  deleteCardFromServer(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(handleOriginalResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, status) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: (status) ? \"PUT\" : \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(handleOriginalResponse);\r\n  }\r\n\r\n  updateAvatar(avatarLink) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(avatarLink),\r\n    }).then(handleOriginalResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-20\",\r\n  headers: {\r\n    authorization: \"8e6db405-93d3-4564-862a-de4e30ec51f5\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const [name, setUserName] = React.useState(\"\");\r\n  const [description, setUserDescription] = React.useState(\"\");\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleChangeUserName(e) {\r\n    setUserName(e.target.value);\r\n  }\r\n\r\n  function handleChangeUserDescription(e) {\r\n    setUserDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setUserName(currentUser.name);\r\n    setUserDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={\"profile\"}\r\n      title={\"Редактировать профиль\"}\r\n      text={\"Сохранить\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          name=\"name\"\r\n          id=\"profile-name-input\"\r\n          className=\"popup__input popup__input_type_name\"\r\n          type=\"text\"\r\n          placeholder=\"Имя\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          onChange={handleChangeUserName}\r\n          value={name || \"\"}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error profile-name-input-error\"></span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          name=\"profession\"\r\n          id=\"profile-profession-input\"\r\n          className=\"popup__input popup__input_type_profession\"\r\n          type=\"text\"\r\n          placeholder=\"Профессия\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          onChange={handleChangeUserDescription}\r\n          value={description || \"\"}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error profile-profession-input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const inputRef = React.useRef(\"\");\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={\"avatar\"}\r\n      title={\"Обновить аватар\"}\r\n      text={\"Сохранить\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          name=\"link\"\r\n          id=\"avatar-link-input\"\r\n          className=\"popup__input popup__input_type_card-link\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на аватар\"\r\n          ref={inputRef}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error avatar-link-input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [cardName, setCardName] = React.useState(\"\");\r\n  const [cardLink, setCardLink] = React.useState(\"\");\r\n\r\n  function handleChangeCardName(e) {\r\n    setCardName(e.target.value);\r\n  }\r\n\r\n  function handleChangeCardLink(e) {\r\n    setCardLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name: cardName,\r\n      link: cardLink,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={\"card\"}\r\n      title={\"Новое место\"}\r\n      text={\"Создать\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          name=\"name\"\r\n          id=\"card-name-input\"\r\n          className=\"popup__input popup__input_type_card-name\"\r\n          type=\"text\"\r\n          placeholder=\"Название\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          onChange={handleChangeCardName}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error card-name-input-error\"></span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          name=\"link\"\r\n          id=\"card-link-input\"\r\n          className=\"popup__input popup__input_type_card-link\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          onChange={handleChangeCardLink}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error card-link-input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport Main from \"./Main\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api.js\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from './AddPlacePopup';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setImagePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setImagePopupOpen(false);\r\n  }\r\n\r\n  function handleUpdateUser(info) {\r\n    api\r\n      .updateUserInfo(info)\r\n      .then((info) => {\r\n        setCurrentUser(info);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleUpdateAvatar(avatarLink) {\r\n    api\r\n      .updateAvatar(avatarLink)\r\n      .then((link) => {\r\n        setCurrentUser(link);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        )\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCardFromServer(card._id)\r\n      .then(() => {\r\n        setCards((state) => \r\n          state.filter((c) => c._id !== card._id)\r\n        )\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    api\r\n      .sendNewCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getAllInfo()\r\n      .then(([userInfo, cardsInfo]) => {\r\n        setCurrentUser(userInfo);\r\n        setCards(cardsInfo);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"App page\">\r\n        <div className=\"page__container\">\r\n          <Header />\r\n          <Main\r\n            cards={cards}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onCardClick={(card) => {\r\n              handleCardClick(card);\r\n            }}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n          />\r\n          <Footer />\r\n\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n          />\r\n\r\n          <PopupWithForm\r\n            name={\"delete\"}\r\n            title={\"Вы уверены?\"}\r\n            children={<></>}\r\n            text={\"Да\"}\r\n          />\r\n\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n\r\n          <ImagePopup\r\n            card={selectedCard}\r\n            isOpen={isImagePopupOpen}\r\n            onClose={closeAllPopups}\r\n          />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}